<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18: http://docutils.sourceforge.net/" />

  <meta property="og:title" content="Using a Code Formatter" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://docs.wpilib.org/en/stable/docs/software/advanced-gradlerio/code-formatting.html" />
  <meta property="og:site_name" content="FIRST Robotics Competition Documentation" />
  <meta property="og:description" content="Code formatters exist to ensure that the style of code written is consistent throughout the entire codebase. This is used in many major projects; from Android to OpenCV. Teams may wish to add a for..." />
  <meta property="og:image" content="https://raw.githubusercontent.com/wpilibsuite/branding/main/png/wpilib-128.png" />
  <meta property="og:image:alt" content="FIRST Robotics Competition Documentation" />
  <meta property="og:ignore_canonical" content="true" />
<meta name="theme-color" content="#003974" />
<meta name="google-site-verification" content="xcmdxM0KzMYiAOeJzyF_l2Tn3AHGzPICs9_vX6q2nwM" />
<link rel="alternate" hreflang="en" href="https://docs.wpilib.org/en/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="x-default" href="https://docs.wpilib.org/en/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="es" href="https://docs.wpilib.org/es/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="fr" href="https://docs.wpilib.org/fr/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="he" href="https://docs.wpilib.org/he/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="pt" href="https://docs.wpilib.org/pt/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="tr" href="https://docs.wpilib.org/tr/stable/docs/software/advanced-gradlerio/code-formatting.html" />
<link rel="alternate" hreflang="zh-CN" href="https://docs.wpilib.org/zh_CN/stable/docs/software/advanced-gradlerio/code-formatting.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Using a Code Formatter &mdash; FIRST Robotics Competition  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster.custom.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster.bundle.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster-sideTip-punk.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster-sideTip-noir.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster-sideTip-light.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/micromodal.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/pid-tune.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/frc-rtd.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/sphinx_rtd_theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/FIRSTicon_RGB_withTM.ico"/>
    <link rel="canonical" href="https://docs.wpilib.org/en/stable/docs/software/advanced-gradlerio/code-formatting.html" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script async="async" src="../../../_static/js/present.js"></script>
        <script src="../../../_static/js/hoverxref.js"></script>
        <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
        <script src="../../../_static/js/micromodal.min.js"></script>
        <script src="../../../_static/js/versionwarning.js"></script>
        <script src="../../../_static/pid-tune.js"></script>
        <script src="../../../_static/js/api-docs-redirect.js"></script>
        <script src="../../../_static/js/fix-rtd-menu-ios.js"></script>
        <script src="../../../_static/js/external-links-new-tab.js"></script>
        <script src="../../../_static/js/version-2014.js"></script>
        <script src="../../../_static/tabs.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Gradlew Tasks" href="gradlew-tasks.html" />
    <link rel="prev" title="Setting up CI for Robot Code using GitHub Actions" href="robot-code-ci.html" /> 
</head>

<body class="wy-body-for-nav"> 


<div class="header-bar">
        <!-- Color Strip -->
        <div class="color-strip">
            <div class="fred"></div>
            <div class="forange"></div>
            <div class="fblue"></div>
        </div>
        <div class="link-bar-container">
            <div id="link-bar" class="collapse">
                <ul>          
                  <li id="manual-link"><a href="https://www.firstinspires.org/resource-library/frc/competition-manual-qa-system">FRC Game Manual</a></li>
                  <li id="qa-link"><a href="https://frc-qa.firstinspires.org/">FRC Game Q&A</a></li>
                  <script id="headerscript">
                    if( new Date().getMonth() == 3 && new Date().getDate() == 1) {
                      document.getElementById("headerscript").insertAdjacentHTML("afterend", '<li id="water-link"><a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ">Water Game</a></li>');
                    }
                  </script>
                </ul>
            </div>
        </div>
</div>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  <a href="../../../index.html" style="display: block; margin-bottom: 0;">
      FIRST Robotics Competition
    <picture>
      <source
        sizes="300px"
        srcset="../../../_static/wpilibDocsLogo_300.webp 300w, ../../../_static/wpilibDocsLogo_500.webp 500w, ../../../_static/wpilibDocsLogo_700.webp 700w, ../../../_static/wpilibDocsLogo_1050.webp 1050w"
        type="image/webp"
      />
      <img
        src="../../../_static/wpilibDocsLogo.png"
        sizes="300px"
        srcset="../../../_static/wpilibDocsLogo_300.png 300w, ../../../_static/wpilibDocsLogo_500.png 500w, ../../../_static/wpilibDocsLogo_700.png 700w, ../../../_static/wpilibDocsLogo_1050.png 1050w"
        height="468"
        width="1050"
        alt="Logo"
        decoding="async"
        class="logo"
        style="height: auto; width: 100%; border-radius: 0%;"
      />
    </picture>
  </a>
      <div class="version">
        latest
      </div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Zero to Robot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../zero-to-robot/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zero-to-robot/step-1/index.html">Step 1: Building your Robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zero-to-robot/step-2/index.html">Step 2: Installing Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zero-to-robot/step-3/index.html">Step 3: Preparing Your Robot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zero-to-robot/step-4/index.html">Step 4: Programming your Robot</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Control System Overviews</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../controls-overviews/control-system-hardware.html">Hardware Component Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../controls-overviews/control-system-software.html">Software Component Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Programming Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../what-is-wpilib.html">What is WPILib?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yearly-overview/index.html">2023 Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vscode-overview/index.html">VS Code Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dashboards/index.html">Dashboards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../telemetry/index.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../labview/index.html">FRC LabVIEW Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware-apis/index.html">Hardware APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../can-devices/index.html">CAN Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basic-programming/index.html">Basic Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support/support-resources.html">Support Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../frc-glossary.html">FRC Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.wpilib.org/allwpilib/docs/release/java/index.html">WPILib Java API Docs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.wpilib.org/allwpilib/docs/release/cpp/index.html">WPILib C++ API Docs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driverstation/index.html">Driver Station</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wpilib-tools/robotbuilder/index.html">RobotBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wpilib-tools/robot-simulation/index.html">Robot Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wpilib-tools/outlineviewer/index.html">OutlineViewer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Programming</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../vision-processing/index.html">Vision Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commandbased/index.html">Command-Based Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kinematics-and-odometry/index.html">Kinematics and Odometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networktables/index.html">NetworkTables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pathplanning/index.html">Path Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roborio-info/index.html">roboRIO</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Advanced GradleRIO</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="external-libraries.html">Using External Libraries with Robot Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot-code-ci.html">Setting up CI for Robot Code using GitHub Actions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using a Code Formatter</a></li>
<li class="toctree-l2"><a class="reference internal" href="gradlew-tasks.html">Gradlew Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy-git-data.html">Including Git Data in Deploy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-controls/index.html">Advanced Controls</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convenience-features/index.html">Convenience Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples and Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples-tutorials/wpilib-examples.html">WPILib Example Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples-tutorials/third-party-examples.html">Third Party Example Projects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/hardware-basics/index.html">Hardware - Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/hardware-tutorials/index.html">Hardware Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/sensors/index.html">Sensors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Romi Robot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../romi-robot/index.html">Getting Started with Romi</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot Networking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../networking/networking-introduction/index.html">Networking Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../networking/networking-utilities/index.html">Networking Utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/frc-docs/index.html">Contributing to frc-docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/wpilib/index.html">Developing with allwpilib</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Issues</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/wpilibsuite/frc-docs/issues">Report an Issue</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">FIRST Robotics Competition</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Advanced GradleRIO</a></li>
      <li class="breadcrumb-item active">Using a Code Formatter</li>
<li class="wy-breadcrumbs-aside" style="padding-inline-start: 6px;">
    <a href="?present" class="btn" style="background-color: #2980b9; color: white; padding: 5px">
        Present
        <span class="fa fa-expand"></span>
    </a>
</li>

      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/wpilibsuite/frc-docs/blob/main/source/docs/software/advanced-gradlerio/code-formatting.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="using-a-code-formatter">
<h1>Using a Code Formatter<a class="headerlink" href="#using-a-code-formatter" title="Permalink to this heading"></a></h1>
<p>Code formatters exist to ensure that the style of code written is consistent throughout the entire codebase. This is used in many major projects; from Android to OpenCV. Teams may wish to add a formatter throughout their robot code to ensure that the codebase maintains readability and consistency throughout.</p>
<p>For this article, we will highlight using <a class="reference external" href="https://github.com/diffplug/spotless">Spotless</a> for Java teams and <a class="reference external" href="https://github.com/wpilibsuite/styleguide/blob/main/wpiformat/README.rst">wpiformat</a> for C++ teams.</p>
<section id="spotless">
<h2>Spotless<a class="headerlink" href="#spotless" title="Permalink to this heading"></a></h2>
<section id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h3>
<p>Necessary <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code> changes are required to get Spotless functional. In the <code class="docutils literal notranslate"><span class="pre">plugins</span> <span class="pre">{}</span></code> block of your <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code>, add the Spotless plugin so it appears similar to the below.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">plugins</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="s2">&quot;java&quot;</span><span class="w"></span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="s2">&quot;edu.wpi.first.GradleRIO&quot;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s2">&quot;2022.1.1&quot;</span><span class="w"></span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;com.diffplug.spotless&#39;</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s1">&#39;6.12.0&#39;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
<p>Then ensure you add a required <code class="docutils literal notranslate"><span class="pre">spotless</span> <span class="pre">{}</span></code> block to correctly configure spotless. This can just get placed at the end of your <code class="docutils literal notranslate"><span class="pre">build.gradle</span></code>.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">spotless</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">   </span><span class="n">java</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">      </span><span class="n">target</span><span class="w"> </span><span class="n">fileTree</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">include</span><span class="w"> </span><span class="s1">&#39;**/*.java&#39;</span><span class="w"></span>
<span class="w">            </span><span class="n">exclude</span><span class="w"> </span><span class="s1">&#39;**/build/**&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/build-*/**&#39;</span><span class="w"></span>
<span class="w">      </span><span class="o">}</span><span class="w"></span>
<span class="w">      </span><span class="n">toggleOffOn</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">googleJavaFormat</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">removeUnusedImports</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">trimTrailingWhitespace</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">endWithNewline</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="o">}</span><span class="w"></span>
<span class="w">   </span><span class="n">groovyGradle</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">      </span><span class="n">target</span><span class="w"> </span><span class="n">fileTree</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">include</span><span class="w"> </span><span class="s1">&#39;**/*.gradle&#39;</span><span class="w"></span>
<span class="w">            </span><span class="n">exclude</span><span class="w"> </span><span class="s1">&#39;**/build/**&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/build-*/**&#39;</span><span class="w"></span>
<span class="w">      </span><span class="o">}</span><span class="w"></span>
<span class="w">      </span><span class="n">greclipse</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">indentWithSpaces</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span><span class="w"></span>
<span class="w">      </span><span class="n">trimTrailingWhitespace</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">endWithNewline</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="o">}</span><span class="w"></span>
<span class="w">   </span><span class="n">format</span><span class="w"> </span><span class="s1">&#39;xml&#39;</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">      </span><span class="n">target</span><span class="w"> </span><span class="n">fileTree</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">include</span><span class="w"> </span><span class="s1">&#39;**/*.xml&#39;</span><span class="w"></span>
<span class="w">            </span><span class="n">exclude</span><span class="w"> </span><span class="s1">&#39;**/build/**&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/build-*/**&#39;</span><span class="w"></span>
<span class="w">      </span><span class="o">}</span><span class="w"></span>
<span class="w">      </span><span class="n">eclipseWtp</span><span class="o">(</span><span class="s1">&#39;xml&#39;</span><span class="o">)</span><span class="w"></span>
<span class="w">      </span><span class="n">trimTrailingWhitespace</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">indentWithSpaces</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span><span class="w"></span>
<span class="w">      </span><span class="n">endWithNewline</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="o">}</span><span class="w"></span>
<span class="w">   </span><span class="n">format</span><span class="w"> </span><span class="s1">&#39;misc&#39;</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">      </span><span class="n">target</span><span class="w"> </span><span class="n">fileTree</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">include</span><span class="w"> </span><span class="s1">&#39;**/*.md&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/.gitignore&#39;</span><span class="w"></span>
<span class="w">            </span><span class="n">exclude</span><span class="w"> </span><span class="s1">&#39;**/build/**&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/build-*/**&#39;</span><span class="w"></span>
<span class="w">      </span><span class="o">}</span><span class="w"></span>
<span class="w">      </span><span class="n">trimTrailingWhitespace</span><span class="o">()</span><span class="w"></span>
<span class="w">      </span><span class="n">indentWithSpaces</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span><span class="w"></span>
<span class="w">      </span><span class="n">endWithNewline</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="o">}</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="running-spotless">
<h3>Running Spotless<a class="headerlink" href="#running-spotless" title="Permalink to this heading"></a></h3>
<p>Spotless can be ran using <code class="docutils literal notranslate"><span class="pre">./gradlew</span> <span class="pre">spotlessApply</span></code> which will apply all formatting options. You can also specify a specific task by just adding the name of formatter. An example is <code class="docutils literal notranslate"><span class="pre">./gradlew</span> <span class="pre">spotlessmiscApply</span></code>.</p>
<p>In addition to formatting code, Spotless can also ensure the code is correctly formatted; this can be used by running <code class="docutils literal notranslate"><span class="pre">./gradlew</span> <span class="pre">spotlessCheck</span></code>. Thus, Spotless can be used as a <a class="reference internal" href="robot-code-ci.html"><span class="doc">CI check</span></a>, as shown in the following GitHub Actions workflow:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="c1"># A workflow run is made up of one or more jobs that can run sequentially or in parallel</span><span class="w"></span>
<span class="nt">jobs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">spotless</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># The type of runner that the job will run on</span><span class="w"></span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span><span class="w"></span>
<span class="w">    </span><span class="c1"># Steps represent a sequence of tasks that will be executed as part of the job</span><span class="w"></span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="c1"># Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span><span class="w"></span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">fetch-depth</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-java@v3</span><span class="w"></span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">distribution</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;zulu&#39;</span><span class="w"></span>
<span class="w">          </span><span class="nt">java-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">17</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./gradlew spotlessCheck</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="explanation-of-options">
<h3>Explanation of Options<a class="headerlink" href="#explanation-of-options" title="Permalink to this heading"></a></h3>
<p>Each <code class="docutils literal notranslate"><span class="pre">format</span></code> section highlights formatting of custom files in the project. The <code class="docutils literal notranslate"><span class="pre">java</span></code> and <code class="docutils literal notranslate"><span class="pre">groovyGradle</span></code> are natively supported by spotless, so they are defined differently.</p>
<p>Breaking this down, we can split this into multiple parts.</p>
<ul class="simple">
<li><p>Formatting Java</p></li>
<li><p>Formatting Gradle files</p></li>
<li><p>Formatting XML files</p></li>
<li><p>Formatting Miscellaneous files</p></li>
</ul>
<p>They are all similar, except for some small differences that will be explained. The below example will highlight the <code class="docutils literal notranslate"><span class="pre">java</span> <span class="pre">{}</span></code> block.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">java</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">   </span><span class="n">target</span><span class="w"> </span><span class="n">fileTree</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">      </span><span class="n">include</span><span class="w"> </span><span class="s1">&#39;**/*.java&#39;</span><span class="w"></span>
<span class="w">      </span><span class="n">exclude</span><span class="w"> </span><span class="s1">&#39;**/build/**&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/build-*/**&#39;</span><span class="w"></span>
<span class="w">   </span><span class="o">}</span><span class="w"></span>
<span class="w">   </span><span class="n">toggleOffOn</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="n">googleJavaFormat</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="n">removeUnusedImports</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="n">trimTrailingWhitespace</span><span class="o">()</span><span class="w"></span>
<span class="w">   </span><span class="n">endWithNewline</span><span class="o">()</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
<p>Let’s explain what each of the options mean.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">target</span><span class="w"> </span><span class="nf">fileTree</span><span class="o">(</span><span class="s1">&#39;.&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">   </span><span class="n">include</span><span class="w"> </span><span class="s1">&#39;**/*.java&#39;</span><span class="w"></span>
<span class="w">   </span><span class="n">exclude</span><span class="w"> </span><span class="s1">&#39;**/build/**&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;**/build-*/**&#39;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
<p>The above example tells spotless where our Java classes are and to exclude the <code class="docutils literal notranslate"><span class="pre">build</span></code> directory. The rest of the options are fairly self-explanatory.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">toggleOffOn()</span></code> adds the ability to have spotless ignore specific portions of a project. The usage looks like the following</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// format:off</span><span class="w"></span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">myWeirdFunction</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>

<span class="c1">// format:on</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">googleJavaFormat()</span></code> tells spotless to format according to the <a class="reference external" href="https://google.github.io/styleguide/javaguide.html">Google Style Guide</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removeUnusedImports()</span></code> will remove any unused imports from any of your Java classes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trimTrailingWhitespace()</span></code> will remove any extra whitespace at the end of your lines</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">endWithNewline()</span></code> will add a newline character to the end of your classes</p></li>
</ul>
<p>In the <code class="docutils literal notranslate"><span class="pre">groovyGradle</span></code> block, there is a <code class="docutils literal notranslate"><span class="pre">greclipse</span></code> option. This is the formatter that spotless uses to format gradle files.</p>
<p>Additionally, there is a <code class="docutils literal notranslate"><span class="pre">eclipseWtp</span></code> option in the <code class="docutils literal notranslate"><span class="pre">xml</span></code> block. This stands for “Gradle Web Tools Platform” and is the formatter to format <code class="docutils literal notranslate"><span class="pre">xml</span></code> files. Teams not using any XML files may wish to not include this configuration.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A full list of configurations is available on the <a class="reference external" href="https://github.com/diffplug/spotless">Spotless README</a></p>
</div>
</section>
<section id="issues-with-line-endings">
<h3>Issues with Line Endings<a class="headerlink" href="#issues-with-line-endings" title="Permalink to this heading"></a></h3>
<p>Spotless will attempt to apply line endings per-OS, which means Git diffs will be constantly changing if two users are on different OSes (Unix vs Windows). It’s recommended that teams who contribute to the same repository from multiple OSes utilize a <code class="docutils literal notranslate"><span class="pre">.gitattributes</span></code> file. The following should suffice for handling line endings.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>*.gradle text eol=lf
*.java text eol=lf
*.md text eol=lf
*.xml text eol=lf
</pre></div>
</div>
</section>
</section>
<section id="wpiformat">
<h2>wpiformat<a class="headerlink" href="#wpiformat" title="Permalink to this heading"></a></h2>
<section id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/">Python 3.6 or higher</a></p></li>
<li><p>clang-format (included with <a class="reference external" href="https://releases.llvm.org/download.html">LLVM</a>)</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Windows is not currently supported at this time! Installing LLVM with Clang <strong>will</strong> break normal robot builds if installed on Windows.</p>
</div>
<p>You can install <a class="reference external" href="https://github.com/wpilibsuite/styleguide/blob/main/wpiformat/README.rst">wpiformat</a> by typing <code class="docutils literal notranslate"><span class="pre">pip3</span> <span class="pre">install</span> <span class="pre">wpiformat</span></code> into a terminal or command prompt.</p>
</section>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h3>
<p>wpiformat can be ran by typing <code class="docutils literal notranslate"><span class="pre">wpiformat</span></code> in a console. This will format with <code class="docutils literal notranslate"><span class="pre">clang-format</span></code>. Three configuration files are required (<code class="docutils literal notranslate"><span class="pre">.clang-format</span></code>, <code class="docutils literal notranslate"><span class="pre">.styleguide</span></code>, <code class="docutils literal notranslate"><span class="pre">.styleguide-license</span></code>). These must exist in the project root.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.clang-format</span></code>: <a class="reference download external" download="" href="https://raw.githubusercontent.com/wpilibsuite/allwpilib/main/.clang-format"><code class="xref download docutils literal notranslate"><span class="pre">Download</span></code></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.styleguide-license</span></code>: <a class="reference download external" download="" href="https://raw.githubusercontent.com/wpilibsuite/allwpilib/main/.styleguide-license"><code class="xref download docutils literal notranslate"><span class="pre">Download</span></code></a></p></li>
</ul>
<p>An example styleguide is shown below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cppHeaderFileInclude {
   \.h$
   \.hpp$
   \.inc$
   \.inl$
}

cppSrcFileInclude {
   \.cpp$
}

modifiableFileExclude {
   gradle/
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Teams can adapt <code class="docutils literal notranslate"><span class="pre">.styleguide</span></code> and <code class="docutils literal notranslate"><span class="pre">.styleguide-license</span></code> however they wish. It’s important that these are not deleted, as they are required to run wpiformat!</p>
</div>
<p>You can turn this into a <a class="reference internal" href="robot-code-ci.html"><span class="doc">CI check</span></a> by running <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">--no-pager</span> <span class="pre">diff</span> <span class="pre">--exit-code</span> <span class="pre">HEAD</span></code>, as shown in the example GitHub Actions workflow below:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Lint and Format</span><span class="w"></span>

<span class="nt">on</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">pull_request</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span><span class="w"></span>

<span class="nt">jobs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">wpiformat</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;wpiformat&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-22.04</span><span class="w"></span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fetch all history and metadata</span><span class="w"></span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">          </span><span class="no">git config --global --add safe.directory /__w/allwpilib/allwpilib</span><span class="w"></span>
<span class="w">          </span><span class="no">git fetch --prune --unshallow</span><span class="w"></span>
<span class="w">          </span><span class="no">git checkout -b pr</span><span class="w"></span>
<span class="w">          </span><span class="no">git branch -f main origin/main</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Set up Python 3.8</span><span class="w"></span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v4</span><span class="w"></span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3.8</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install clang-format</span><span class="w"></span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">          </span><span class="no">wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -</span><span class="w"></span>
<span class="w">          </span><span class="no">sudo sh -c &quot;echo &#39;deb http://apt.llvm.org/jammy/ llvm-toolchain-jammy-14 main&#39; &gt;&gt; /etc/apt/sources.list.d/proposed-repositories.list&quot;</span><span class="w"></span>
<span class="w">          </span><span class="no">sudo apt-get update -q</span><span class="w"></span>
<span class="w">          </span><span class="no">sudo apt-get install -y clang-format-14</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install wpiformat</span><span class="w"></span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip3 install wpiformat</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run</span><span class="w"></span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">wpiformat -clang 14</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Check output</span><span class="w"></span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">git --no-pager diff --exit-code HEAD</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="robot-code-ci.html" class="btn btn-neutral float-left" title="Setting up CI for Robot Code using GitHub Actions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gradlew-tasks.html" class="btn btn-neutral float-right" title="Gradlew Tasks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, FIRST and other WPILib Contributors. This work is licensed under a Creative Commons Attribution 4.0 International License.
      <span class="commit">Revision <code>c3ff9f30</code>.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
          <dd><a href="/en/stable/">stable</a></dd>
        
          <dd><a href="/en/2022/">2022</a></dd>
        
          <dd><a href="/en/2021/">2021</a></dd>
        
          <dd><a href="/en/2020/">2020</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="//docs.wpilib.org/_/downloads/en/latest/pdf/">pdf</a></dd>
        
          <dd><a href="//docs.wpilib.org/_/downloads/en/latest/htmlzip/">html</a></dd>
        
      </dl>
      <dl>
        
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//readthedocs.org/projects/frc-docs/?fromdocs=frc-docs">Project Home</a>
          </dd>
          <dd>
            <a href="//readthedocs.org/builds/frc-docs/?fromdocs=frc-docs">Builds</a>
          </dd>
      </dl>
    </div>
  </div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>
  <script>
    if (typeof READTHEDOCS_DATA !== 'undefined') {
        if (!READTHEDOCS_DATA.features) {
          READTHEDOCS_DATA.features = {};
        }
        READTHEDOCS_DATA.features.docsearch_disabled = false;
      }
    </script>

</body>
</html>